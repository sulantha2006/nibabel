<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Neuroimaging in Python &#8212; NiBabel 2.1.1dev documentation</title>
    
    <link rel="stylesheet" href="../_static/nibabel.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.1dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="NiBabel 2.1.1dev documentation" href="../index.html" />
    <link rel="up" title="API Documentation" href="../api.html" />
    <link rel="next" title="nifti2" href="nibabel.nifti2.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding-left: 150px; padding-bottom:50px; padding-top:20px; background-image: url(../_static/nipy-logo-bg-138x120.png); background-repeat: no-repeat;">
<h1>NiBabel</h1>
<h3 style="margin-top:-5px;color:#2f83c8">Access a cacophony of neuro-imaging file formats</h3>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nibabel.nifti2.html" title="nifti2"
             accesskey="N">next</a> |</li>
  <li><a href="http://nipy.org/">Community</a> |&nbsp;</li>
  <li><a href="../index.html">NiBabel Home</a> |&nbsp;</li>
  <li><a href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing list</a> |&nbsp;</li>
  <li><a href="legal.html">License</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API Documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">nifti1</span></code></a><ul>
<li><a class="reference internal" href="#nifti1dicomextension"><code class="docutils literal"><span class="pre">Nifti1DicomExtension</span></code></a></li>
<li><a class="reference internal" href="#nifti1extension"><code class="docutils literal"><span class="pre">Nifti1Extension</span></code></a></li>
<li><a class="reference internal" href="#nifti1extensions"><code class="docutils literal"><span class="pre">Nifti1Extensions</span></code></a></li>
<li><a class="reference internal" href="#nifti1header"><code class="docutils literal"><span class="pre">Nifti1Header</span></code></a></li>
<li><a class="reference internal" href="#nifti1image"><code class="docutils literal"><span class="pre">Nifti1Image</span></code></a></li>
<li><a class="reference internal" href="#nifti1pair"><code class="docutils literal"><span class="pre">Nifti1Pair</span></code></a></li>
<li><a class="reference internal" href="#nifti1pairheader"><code class="docutils literal"><span class="pre">Nifti1PairHeader</span></code></a></li>
<li><a class="reference internal" href="#load">load</a></li>
<li><a class="reference internal" href="#save">save</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="nibabel.nifti2.html"
                        title="next chapter"><code class="docutils literal"><span class="pre">nifti2</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/nibabel.nifti1.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<p><img src="../_static/reggie.png" alt="Reggie -- the one" /></p>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nibabel.nifti1">
<span id="nifti1"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">nifti1</span></code><a class="headerlink" href="#module-nibabel.nifti1" title="Permalink to this headline">¶</a></h1>
<p>Read / write access to NIfTI1 image format</p>
<p>NIfTI1 format defined at <a class="reference external" href="http://nifti.nimh.nih.gov/nifti-1/">http://nifti.nimh.nih.gov/nifti-1/</a></p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1DicomExtension" title="nibabel.nifti1.Nifti1DicomExtension"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1DicomExtension</span></code></a>(code,&nbsp;content[,&nbsp;parent_hdr])</td>
<td>NIfTI1 DICOM header extension</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1Extension" title="nibabel.nifti1.Nifti1Extension"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1Extension</span></code></a>(code,&nbsp;content)</td>
<td>Baseclass for NIfTI1 header extensions.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1Extensions" title="nibabel.nifti1.Nifti1Extensions"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1Extensions</span></code></a></td>
<td>Simple extension collection, implemented as a list-subclass.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1Header</span></code></a>([binaryblock,&nbsp;endianness,&nbsp;...])</td>
<td>Class for NIfTI1 header</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1Image" title="nibabel.nifti1.Nifti1Image"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1Image</span></code></a>(dataobj,&nbsp;affine[,&nbsp;header,&nbsp;...])</td>
<td>Class for single file NIfTI1 format image</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair" title="nibabel.nifti1.Nifti1Pair"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1Pair</span></code></a>(dataobj,&nbsp;affine[,&nbsp;header,&nbsp;extra,&nbsp;...])</td>
<td>Class for NIfTI1 format image, header pair</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nibabel.nifti1.Nifti1PairHeader" title="nibabel.nifti1.Nifti1PairHeader"><code class="xref py py-obj docutils literal"><span class="pre">Nifti1PairHeader</span></code></a>([binaryblock,&nbsp;endianness,&nbsp;...])</td>
<td>Class for NIfTI1 pair header</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nibabel.nifti1.load" title="nibabel.nifti1.load"><code class="xref py py-obj docutils literal"><span class="pre">load</span></code></a>(filename)</td>
<td>Load NIfTI1 single or pair from <cite>filename</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nibabel.nifti1.save" title="nibabel.nifti1.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a>(img,&nbsp;filename)</td>
<td>Save NIfTI1 single or pair to <cite>filename</cite></td>
</tr>
</tbody>
</table>
<div class="section" id="nifti1dicomextension">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1DicomExtension" title="nibabel.nifti1.Nifti1DicomExtension"><code class="xref py py-class docutils literal"><span class="pre">Nifti1DicomExtension</span></code></a><a class="headerlink" href="#nifti1dicomextension" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1DicomExtension">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1DicomExtension</code><span class="sig-paren">(</span><em>code</em>, <em>content</em>, <em>parent_hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1DicomExtension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nibabel.nifti1.Nifti1Extension" title="nibabel.nifti1.Nifti1Extension"><code class="xref py py-class docutils literal"><span class="pre">nibabel.nifti1.Nifti1Extension</span></code></a></p>
<p>NIfTI1 DICOM header extension</p>
<p>This class is a thin wrapper around pydicom to read a binary DICOM
byte string. If pydicom is available, content is exposed as a Dicom Dataset.
Otherwise, this silently falls back to the standard NiftiExtension class
and content is the raw bytestring loaded directly from the nifti file
header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int or str</p>
<blockquote>
<div><p>Canonical extension code as defined in the NIfTI standard, given
either as integer or corresponding label
(see <code class="xref py py-data docutils literal"><span class="pre">extension_codes</span></code>)</p>
</div></blockquote>
<p><strong>content</strong> : bytes or pydicom Dataset or None</p>
<blockquote>
<div><p>Extension content - either a bytestring as read from the NIfTI file
header or an existing pydicom Dataset. If a bystestring, the content
is converted into a Dataset on initialization. If None, a new empty
Dataset is created.</p>
</div></blockquote>
<p><strong>parent_hdr</strong> : <a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a>, optional</p>
<blockquote class="last">
<div><p>If a dicom extension belongs to an existing
<a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a>, it may be provided here to
ensure that the DICOM dataset is written with correctly corresponding
endianness; otherwise it is assumed the dataset is little endian.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>code should always be 2 for DICOM.</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1DicomExtension.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>code</em>, <em>content</em>, <em>parent_hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1DicomExtension.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int or str</p>
<blockquote>
<div><p>Canonical extension code as defined in the NIfTI standard, given
either as integer or corresponding label
(see <code class="xref py py-data docutils literal"><span class="pre">extension_codes</span></code>)</p>
</div></blockquote>
<p><strong>content</strong> : bytes or pydicom Dataset or None</p>
<blockquote>
<div><p>Extension content - either a bytestring as read from the NIfTI file
header or an existing pydicom Dataset. If a bystestring, the content
is converted into a Dataset on initialization. If None, a new empty
Dataset is created.</p>
</div></blockquote>
<p><strong>parent_hdr</strong> : <a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a>, optional</p>
<blockquote class="last">
<div><p>If a dicom extension belongs to an existing
<a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a>, it may be provided here to
ensure that the DICOM dataset is written with correctly corresponding
endianness; otherwise it is assumed the dataset is little endian.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>code should always be 2 for DICOM.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1extension">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1Extension" title="nibabel.nifti1.Nifti1Extension"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Extension</span></code></a><a class="headerlink" href="#nifti1extension" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1Extension">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1Extension</code><span class="sig-paren">(</span><em>code</em>, <em>content</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Baseclass for NIfTI1 header extensions.</p>
<p>This class is sufficient to handle very simple text-based extensions, such
as <cite>comment</cite>. More sophisticated extensions should/will be supported by
dedicated subclasses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int or str</p>
<blockquote>
<div><p>Canonical extension code as defined in the NIfTI standard, given
either as integer or corresponding label
(see <code class="xref py py-data docutils literal"><span class="pre">extension_codes</span></code>)</p>
</div></blockquote>
<p><strong>content</strong> : str</p>
<blockquote class="last">
<div><p>Extension content as read from the NIfTI file header. This content is
converted into a runtime representation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extension.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>code</em>, <em>content</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int or str</p>
<blockquote>
<div><p>Canonical extension code as defined in the NIfTI standard, given
either as integer or corresponding label
(see <code class="xref py py-data docutils literal"><span class="pre">extension_codes</span></code>)</p>
</div></blockquote>
<p><strong>content</strong> : str</p>
<blockquote class="last">
<div><p>Extension content as read from the NIfTI file header. This content is
converted into a runtime representation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extension.get_code">
<code class="descname">get_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension.get_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the canonical extension type code.</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extension.get_content">
<code class="descname">get_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension.get_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the extension content in its runtime representation.</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extension.get_sizeondisk">
<code class="descname">get_sizeondisk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension.get_sizeondisk" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the extension in the NIfTI file.</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extension.write_to">
<code class="descname">write_to</code><span class="sig-paren">(</span><em>fileobj</em>, <em>byteswap</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extension.write_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Write header extensions to fileobj</p>
<p>Write starts at fileobj current file position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileobj</strong> : file-like object</p>
<blockquote>
<div><p>Should implement <code class="docutils literal"><span class="pre">write</span></code> method</p>
</div></blockquote>
<p><strong>byteswap</strong> : boolean</p>
<blockquote>
<div><p>Flag if byteswapping the data is required.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1extensions">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1Extensions" title="nibabel.nifti1.Nifti1Extensions"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Extensions</span></code></a><a class="headerlink" href="#nifti1extensions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1Extensions">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1Extensions</code><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">list</span></code></p>
<p>Simple extension collection, implemented as a list-subclass.</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extensions.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extensions.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>ecode</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of extensions matching a given <em>ecode</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int | str</p>
<blockquote class="last">
<div><p>The ecode can be specified either literal or as numerical value.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="nibabel.nifti1.Nifti1Extensions.from_fileobj">
<em class="property">classmethod </em><code class="descname">from_fileobj</code><span class="sig-paren">(</span><em>klass</em>, <em>fileobj</em>, <em>size</em>, <em>byteswap</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.from_fileobj" title="Permalink to this definition">¶</a></dt>
<dd><p>Read header extensions from a fileobj</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileobj</strong> : file-like object</p>
<blockquote>
<div><p>We begin reading the extensions at the current file position</p>
</div></blockquote>
<p><strong>size</strong> : int</p>
<blockquote>
<div><p>Number of bytes to read. If negative, fileobj will be read till its
end.</p>
</div></blockquote>
<p><strong>byteswap</strong> : boolean</p>
<blockquote>
<div><p>Flag if byteswapping the read data is required.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An extension list. This list might be empty in case not extensions</p>
<p class="last">were present in fileobj.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extensions.get_codes">
<code class="descname">get_codes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.get_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the extension code of all available extensions</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extensions.get_sizeondisk">
<code class="descname">get_sizeondisk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.get_sizeondisk" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the complete header extensions in the NIfTI file.</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Extensions.write_to">
<code class="descname">write_to</code><span class="sig-paren">(</span><em>fileobj</em>, <em>byteswap</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Extensions.write_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Write header extensions to fileobj</p>
<p>Write starts at fileobj current file position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileobj</strong> : file-like object</p>
<blockquote>
<div><p>Should implement <code class="docutils literal"><span class="pre">write</span></code> method</p>
</div></blockquote>
<p><strong>byteswap</strong> : boolean</p>
<blockquote>
<div><p>Flag if byteswapping the data is required.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1header">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a><a class="headerlink" href="#nifti1header" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1Header">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1Header</code><span class="sig-paren">(</span><em>binaryblock=None</em>, <em>endianness=None</em>, <em>check=True</em>, <em>extensions=()</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nibabel.spm99analyze.html#nibabel.spm99analyze.SpmAnalyzeHeader" title="nibabel.spm99analyze.SpmAnalyzeHeader"><code class="xref py py-class docutils literal"><span class="pre">nibabel.spm99analyze.SpmAnalyzeHeader</span></code></a></p>
<p>Class for NIfTI1 header</p>
<p>The NIfTI1 header has many more coded fields than the simpler Analyze
variants.  NIfTI1 headers also have extensions.</p>
<p>Nifti allows the header to be a separate file, as part of a nifti image /
header pair, or to precede the data in a single file.  The object needs to
know which type it is, in order to manage the voxel offset pointing to the
data, extension reading, and writing the correct magic string.</p>
<p>This class handles the header-preceding-data case.</p>
<p>Initialize header from binary data block and extensions</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>binaryblock=None</em>, <em>endianness=None</em>, <em>check=True</em>, <em>extensions=()</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize header from binary data block and extensions</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return copy of header</p>
<p>Take reference to extensions as well as copy of header contents</p>
</dd></dl>

<dl class="classmethod">
<dt id="nibabel.nifti1.Nifti1Header.default_structarr">
<em class="property">classmethod </em><code class="descname">default_structarr</code><span class="sig-paren">(</span><em>klass</em>, <em>endianness=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.default_structarr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create empty header binary block with given endianness</p>
</dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.exts_klass">
<code class="descname">exts_klass</code><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.exts_klass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#nibabel.nifti1.Nifti1Extensions" title="nibabel.nifti1.Nifti1Extensions"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Extensions</span></code></a></p>
</dd></dl>

<dl class="classmethod">
<dt id="nibabel.nifti1.Nifti1Header.from_fileobj">
<em class="property">classmethod </em><code class="descname">from_fileobj</code><span class="sig-paren">(</span><em>klass</em>, <em>fileobj</em>, <em>endianness=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.from_fileobj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="nibabel.nifti1.Nifti1Header.from_header">
<em class="property">classmethod </em><code class="descname">from_header</code><span class="sig-paren">(</span><em>klass</em>, <em>header=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Class method to create header from another header</p>
<p>Extend Analyze header copy by copying extensions from other Nifti
types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>header</strong> : <code class="docutils literal"><span class="pre">Header</span></code> instance or mapping</p>
<blockquote>
<div><p>a header of this class, or another class of header for
conversion to this type</p>
</div></blockquote>
<p><strong>check</strong> : {True, False}</p>
<blockquote>
<div><p>whether to check header for integrity</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>hdr</strong> : header instance</p>
<blockquote class="last">
<div><p>fresh header instance of our own class</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_best_affine">
<code class="descname">get_best_affine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_best_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Select best of available transforms</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_data_shape">
<code class="descname">get_data_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_data_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get shape of data</p>
<p class="rubric">Notes</p>
<p>Applies freesurfer hack for large vectors described in <a class="reference external" href="https://github.com/nipy/nibabel/issues/100">issue 100</a> and
<a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/save_nifti.m#L77-L82">save_nifti.m</a>.</p>
<p>Allows for freesurfer hack for 7th order icosahedron surface described
in <a class="reference external" href="https://github.com/nipy/nibabel/issues/309">issue 309</a>, <a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/load_nifti.m#L86-L89">load_nifti.m</a>, and <a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/save_nifti.m#L50-L56">save_nifti.m</a>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_data_shape</span><span class="p">()</span>
<span class="go">(0,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_data_shape</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_data_shape</span><span class="p">()</span>
<span class="go">(1, 2, 3)</span>
</pre></div>
</div>
<p>Expanding number of dimensions gets default zooms</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_zooms</span><span class="p">()</span>
<span class="go">(1.0, 1.0, 1.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_dim_info">
<code class="descname">get_dim_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_dim_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets NIfTI MRI slice etc dimension information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>freq</strong> : {None,0,1,2}</p>
<blockquote>
<div><p>Which data array axis is frequency encode direction</p>
</div></blockquote>
<p><strong>phase</strong> : {None,0,1,2}</p>
<blockquote>
<div><p>Which data array axis is phase encode direction</p>
</div></blockquote>
<p><strong>slice</strong> : {None,0,1,2}</p>
<blockquote>
<div><p>Which data array axis is slice encode direction</p>
</div></blockquote>
<p>where <code class="docutils literal"><span class="pre">data</span> <span class="pre">array</span></code> is the array returned by <code class="docutils literal"><span class="pre">get_data</span></code></p>
<p>Because NIfTI1 files are natively Fortran indexed:</p>
<blockquote>
<div><p>0 is fastest changing in file
1 is medium changing in file
2 is slowest changing in file</p>
</div></blockquote>
<p class="last"><code class="docutils literal"><span class="pre">None</span></code> means the axis appears not to be specified.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>See set_dim_info function</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_intent">
<code class="descname">get_intent</code><span class="sig-paren">(</span><em>code_repr='label'</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_intent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get intent code, parameters and name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code_repr</strong> : string</p>
<blockquote>
<div><p>string giving output form of intent code representation.
Default is &#8216;label&#8217;; use &#8216;code&#8217; for integer representation.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>code</strong> : string or integer</p>
<blockquote>
<div><p>intent code, or string describing code</p>
</div></blockquote>
<p><strong>parameters</strong> : tuple</p>
<blockquote>
<div><p>parameters for the intent</p>
</div></blockquote>
<p><strong>name</strong> : string</p>
<blockquote class="last">
<div><p>intent name</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="s1">&#39;t test&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;some score&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">()</span>
<span class="go">(&#39;t test&#39;, (10.0,), &#39;some score&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">(</span><span class="s1">&#39;code&#39;</span><span class="p">)</span>
<span class="go">(3, (10.0,), &#39;some score&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_n_slices">
<code class="descname">get_n_slices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_n_slices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of slices</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_qform">
<code class="descname">get_qform</code><span class="sig-paren">(</span><em>coded=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_qform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 4x4 affine matrix from qform parameters in header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coded</strong> : bool, optional</p>
<blockquote>
<div><p>If True, return {affine or None}, and qform code.  If False, just
return affine.  {affine or None} means, return None if qform code
== 0, and affine otherwise.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or (4,4) ndarray</p>
<blockquote>
<div><p>If <cite>coded</cite> is False, always return affine reconstructed from qform
quaternion.  If <cite>coded</cite> is True, return None if qform code is 0,
else return the affine.</p>
</div></blockquote>
<p><strong>code</strong> : int</p>
<blockquote class="last">
<div><p>Qform code. Only returned if <cite>coded</cite> is True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_qform_quaternion">
<code class="descname">get_qform_quaternion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_qform_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute quaternion from b, c, d of quaternion</p>
<p>Fills a value by assuming this is a unit quaternion</p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_sform">
<code class="descname">get_sform</code><span class="sig-paren">(</span><em>coded=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_sform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 4x4 affine matrix from sform parameters in header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coded</strong> : bool, optional</p>
<blockquote>
<div><p>If True, return {affine or None}, and sform code.  If False, just
return affine.  {affine or None} means, return None if sform code
== 0, and affine otherwise.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or (4,4) ndarray</p>
<blockquote>
<div><p>If <cite>coded</cite> is False, always return affine from sform fields. If
<cite>coded</cite> is True, return None if sform code is 0, else return the
affine.</p>
</div></blockquote>
<p><strong>code</strong> : int</p>
<blockquote class="last">
<div><p>Sform code. Only returned if <cite>coded</cite> is True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_slice_duration">
<code class="descname">get_slice_duration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_slice_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get slice duration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>slice_duration</strong> : float</p>
<blockquote class="last">
<div><p>time to acquire one slice</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The NIfTI1 spec appears to require the slice dimension to be
defined for slice_duration to have meaning.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="nb">slice</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_slice_duration</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%0.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">hdr</span><span class="o">.</span><span class="n">get_slice_duration</span><span class="p">())</span>
<span class="go">0.3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_slice_times">
<code class="descname">get_slice_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_slice_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Get slice times from slice timing information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>slice_times</strong> : tuple</p>
<blockquote class="last">
<div><p>Times of acquisition of slices, where 0 is the beginning of
the acquisition, ordered by position in file.  nifti allows
slices at the top and bottom of the volume to be excluded from
the standard slice timing specification, and calls these
&#8220;padding slices&#8221;.  We give padding slices <code class="docutils literal"><span class="pre">None</span></code> as a time
of acquisition</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="nb">slice</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_data_shape</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_slice_duration</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;slice_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slice_order_codes</span><span class="p">[</span><span class="s1">&#39;sequential increasing&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slice_times</span> <span class="o">=</span> <span class="n">hdr</span><span class="o">.</span><span class="n">get_slice_times</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">slice_times</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_slope_inter">
<code class="descname">get_slope_inter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_slope_inter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data scaling (slope) and DC offset (intercept) from header data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>slope</strong> : None or float</p>
<blockquote>
<div><p>scaling (slope).  None if there is no valid scaling from these
fields</p>
</div></blockquote>
<p><strong>inter</strong> : None or float</p>
<blockquote class="last">
<div><p>offset (intercept). None if there is no valid scaling or if offset
is not finite.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_slope_inter</span><span class="p">()</span>
<span class="go">(1.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;scl_slope&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_slope_inter</span><span class="p">()</span>
<span class="go">(None, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;scl_slope&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_slope_inter</span><span class="p">()</span>
<span class="go">(None, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;scl_slope&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;scl_inter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_slope_inter</span><span class="p">()</span>
<span class="go">(1.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;scl_inter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_slope_inter</span><span class="p">()</span> 
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">HeaderDataError</span>: <span class="n">Valid slope but invalid intercept inf</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.get_xyzt_units">
<code class="descname">get_xyzt_units</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.get_xyzt_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.has_data_intercept">
<code class="descname">has_data_intercept</code><em class="property"> = True</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.has_data_intercept" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.has_data_slope">
<code class="descname">has_data_slope</code><em class="property"> = True</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.has_data_slope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.is_single">
<code class="descname">is_single</code><em class="property"> = True</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.is_single" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="nibabel.nifti1.Nifti1Header.may_contain_header">
<em class="property">classmethod </em><code class="descname">may_contain_header</code><span class="sig-paren">(</span><em>klass</em>, <em>binaryblock</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.may_contain_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.pair_magic">
<code class="descname">pair_magic</code><em class="property"> = 'ni1'</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.pair_magic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.pair_vox_offset">
<code class="descname">pair_vox_offset</code><em class="property"> = 0</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.pair_vox_offset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.quaternion_threshold">
<code class="descname">quaternion_threshold</code><em class="property"> = -3.5762786865234375e-07</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.quaternion_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_data_shape">
<code class="descname">set_data_shape</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_data_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Set shape of data  # noqa</p>
<p>If <code class="docutils literal"><span class="pre">ndims</span> <span class="pre">==</span> <span class="pre">len(shape)</span></code> then we set zooms for dimensions higher than
<code class="docutils literal"><span class="pre">ndims</span></code> to 1.0</p>
<p>Nifti1 images can have up to seven dimensions. For FreeSurfer-variant
Nifti surface files, the first dimension is assumed to correspond to
vertices/nodes on a surface, and dimensions two and three are
constrained to have depth of 1. Dimensions 4-7 are constrained only by
type bounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : sequence</p>
<blockquote class="last">
<div><p>sequence of integers specifying data array shape</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Applies freesurfer hack for large vectors described in <a class="reference external" href="https://github.com/nipy/nibabel/issues/100">issue 100</a> and
<a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/save_nifti.m#L77-L82">save_nifti.m</a>.</p>
<p>Allows for freesurfer hack for 7th order icosahedron surface described
in <a class="reference external" href="https://github.com/nipy/nibabel/issues/309">issue 309</a>, <a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/load_nifti.m#L86-L89">load_nifti.m</a>, and <a class="reference external" href="https://github.com/fieldtrip/fieldtrip/blob/428798b/external/freesurfer/save_nifti.m#L50-L56">save_nifti.m</a>.</p>
<p>The Nifti1 <a class="reference external" href="http://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1.h">standard header</a> allows for the following &#8220;point set&#8221;
definition of a surface, not currently implemented in nibabel.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">To</span> <span class="n">signify</span> <span class="n">that</span> <span class="n">the</span> <span class="n">vector</span> <span class="n">value</span> <span class="n">at</span> <span class="n">each</span> <span class="n">voxel</span> <span class="ow">is</span> <span class="n">really</span> <span class="n">a</span>
<span class="n">spatial</span> <span class="n">coordinate</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="n">the</span> <span class="n">vertices</span> <span class="ow">or</span> <span class="n">nodes</span> <span class="n">of</span> <span class="n">a</span> <span class="n">surface</span> <span class="n">mesh</span><span class="p">):</span>
  <span class="o">-</span> <span class="n">dataset</span> <span class="n">must</span> <span class="n">have</span> <span class="n">a</span> <span class="mi">5</span><span class="n">th</span> <span class="n">dimension</span>
  <span class="o">-</span> <span class="n">intent_code</span> <span class="n">must</span> <span class="n">be</span> <span class="n">NIFTI_INTENT_POINTSET</span>
  <span class="o">-</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="o">-</span> <span class="n">dim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">number</span> <span class="n">of</span> <span class="n">points</span>
  <span class="o">-</span> <span class="n">dim</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">dim</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="o">-</span> <span class="n">dim</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="n">must</span> <span class="n">be</span> <span class="n">the</span> <span class="n">dimensionality</span> <span class="n">of</span> <span class="n">space</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="n">D</span> <span class="n">space</span><span class="p">)</span><span class="o">.</span>
  <span class="o">-</span> <span class="n">intent_name</span> <span class="n">may</span> <span class="n">describe</span> <span class="n">the</span> <span class="nb">object</span> <span class="n">these</span> <span class="n">points</span> <span class="n">come</span> <span class="kn">from</span>
    <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="s2">&quot;pial&quot;</span><span class="p">,</span> <span class="s2">&quot;gray/white&quot;</span> <span class="p">,</span> <span class="s2">&quot;EEG&quot;</span><span class="p">,</span> <span class="s2">&quot;MEG&quot;</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_dim_info">
<code class="descname">set_dim_info</code><span class="sig-paren">(</span><em>freq=None</em>, <em>phase=None</em>, <em>slice=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_dim_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets nifti MRI slice etc dimension information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>freq</strong> : {None, 0, 1, 2}</p>
<blockquote>
<div><p>axis of data array referring to frequency encoding</p>
</div></blockquote>
<p><strong>phase</strong> : {None, 0, 1, 2}</p>
<blockquote>
<div><p>axis of data array referring to phase encoding</p>
</div></blockquote>
<p><strong>slice</strong> : {None, 0, 1, 2}</p>
<blockquote>
<div><p>axis of data array referring to slice encoding</p>
</div></blockquote>
<p class="last"><strong>``None`` means the axis is not specified.</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This is stored in one byte in the header</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_dim_info</span><span class="p">()</span>
<span class="go">(1, 2, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">slice</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_dim_info</span><span class="p">()</span>
<span class="go">(1, 2, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_dim_info</span><span class="p">()</span>
<span class="go">(None, None, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">slice</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_dim_info</span><span class="p">()</span>
<span class="go">(1, None, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_intent">
<code class="descname">set_intent</code><span class="sig-paren">(</span><em>code</em>, <em>params=()</em>, <em>name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_intent" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the intent code, parameters and name</p>
<p>If parameters are not specified, assumed to be all zero. Each
intent code has a set number of parameters associated. If you
specify any parameters, then it will need to be the correct number
(e.g the &#8220;f test&#8221; intent requires 2).  However, parameters can
also be set in the file data, so we also allow not setting any
parameters (empty parameter tuple).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : integer or string</p>
<blockquote>
<div><p>code specifying nifti intent</p>
</div></blockquote>
<p><strong>params</strong> : list, tuple of scalars</p>
<blockquote>
<div><p>parameters relating to intent (see intent_codes)
defaults to ().  Unspecified parameters are set to 0.0</p>
</div></blockquote>
<p><strong>name</strong> : string</p>
<blockquote>
<div><p>intent name (description). Defaults to &#8216;&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># unknown code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="s1">&#39;z score&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">()</span>
<span class="go">(&#39;z score&#39;, (), &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">(</span><span class="s1">&#39;code&#39;</span><span class="p">)</span>
<span class="go">(5, (), &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="s1">&#39;t test&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;some score&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">()</span>
<span class="go">(&#39;t test&#39;, (10.0,), &#39;some score&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="s1">&#39;f test&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;another score&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">()</span>
<span class="go">(&#39;f test&#39;, (2.0, 10.0), &#39;another score&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_intent</span><span class="p">(</span><span class="s1">&#39;f test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_intent</span><span class="p">()</span>
<span class="go">(&#39;f test&#39;, (0.0, 0.0), &#39;&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_qform">
<code class="descname">set_qform</code><span class="sig-paren">(</span><em>affine</em>, <em>code=None</em>, <em>strip_shears=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_qform" title="Permalink to this definition">¶</a></dt>
<dd><p>Set qform header values from 4x4 affine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or 4x4 array</p>
<blockquote>
<div><p>affine transform to write into sform. If None, only set code.</p>
</div></blockquote>
<p><strong>code</strong> : None, string or integer, optional</p>
<blockquote>
<div><p>String or integer giving meaning of transform in <em>affine</em>.
The default is None.  If code is None, then:</p>
<ul class="simple">
<li>If affine is None, <cite>code</cite>-&gt; 0</li>
<li>If affine not None and existing qform code in header == 0,
<cite>code</cite>-&gt; 2 (aligned)</li>
<li>If affine not None and existing qform code in header != 0,
<cite>code</cite>-&gt; existing qform code in header</li>
</ul>
</div></blockquote>
<p><strong>strip_shears</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Whether to strip shears in <cite>affine</cite>.  If True, shears will be
silently stripped. If False, the presence of shears will raise a
<code class="docutils literal"><span class="pre">HeaderDataError</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The qform transform only encodes translations, rotations and
zooms. If there are shear components to the <cite>affine</cite> transform, and
<cite>strip_shears</cite> is True (the default), the written qform gives the
closest approximation where the rotation matrix is orthogonal. This is
to allow quaternion representation. The orthogonal representation
enforces orthogonal axes.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>  <span class="c1"># gives 0 - unknown</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_qform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="n">affine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_qform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>  <span class="c1"># gives 2 - aligned</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;talairach&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;scanner&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;qform_code&#39;</span><span class="p">])</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_sform">
<code class="descname">set_sform</code><span class="sig-paren">(</span><em>affine</em>, <em>code=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_sform" title="Permalink to this definition">¶</a></dt>
<dd><p>Set sform transform from 4x4 affine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or 4x4 array</p>
<blockquote>
<div><p>affine transform to write into sform.  If None, only set <cite>code</cite></p>
</div></blockquote>
<p><strong>code</strong> : None, string or integer, optional</p>
<blockquote class="last">
<div><p>String or integer giving meaning of transform in <em>affine</em>.
The default is None.  If code is None, then:</p>
<ul class="simple">
<li>If affine is None, <cite>code</cite>-&gt; 0</li>
<li>If affine not None and existing sform code in header == 0,
<cite>code</cite>-&gt; 2 (aligned)</li>
<li>If affine not None and existing sform code in header != 0,
<cite>code</cite>-&gt; existing sform code in header</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>  <span class="c1"># gives 0 - unknown</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_sform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="n">affine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_sform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>  <span class="c1"># gives 2 - aligned</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;talairach&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="n">affine</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;scanner&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;sform_code&#39;</span><span class="p">])</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_slice_duration">
<code class="descname">set_slice_duration</code><span class="sig-paren">(</span><em>duration</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_slice_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Set slice duration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>duration</strong> : scalar</p>
<blockquote class="last">
<div><p>time to acquire one slice</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>See <code class="docutils literal"><span class="pre">get_slice_duration</span></code></p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_slice_times">
<code class="descname">set_slice_times</code><span class="sig-paren">(</span><em>slice_times</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_slice_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Set slice times into <em>hdr</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>slice_times</strong> : tuple</p>
<blockquote class="last">
<div><p>tuple of slice times, one value per slice
tuple can include None to indicate no slice time for that slice</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">Nifti1Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_dim_info</span><span class="p">(</span><span class="nb">slice</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_data_shape</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_slice_duration</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">set_slice_times</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span><span class="o">.</span><span class="n">get_value_label</span><span class="p">(</span><span class="s1">&#39;slice_code&#39;</span><span class="p">)</span>
<span class="go">&#39;alternating decreasing&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;slice_start&#39;</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;slice_end&#39;</span><span class="p">])</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_slope_inter">
<code class="descname">set_slope_inter</code><span class="sig-paren">(</span><em>slope</em>, <em>inter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_slope_inter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set slope and / or intercept into header</p>
<p>Set slope and intercept for image data, such that, if the image
data is <code class="docutils literal"><span class="pre">arr</span></code>, then the scaled image data will be <code class="docutils literal"><span class="pre">(arr</span> <span class="pre">*</span>
<span class="pre">slope)</span> <span class="pre">+</span> <span class="pre">inter</span></code></p>
<p>(<cite>slope</cite>, <cite>inter</cite>) of (NaN, NaN) is a signal to a containing image to
set <cite>slope</cite>, <cite>inter</cite> automatically on write.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>slope</strong> : None or float</p>
<blockquote>
<div><p>If None, implies <cite>slope</cite>  of NaN. If <cite>slope</cite> is None or NaN then
<cite>inter</cite> should be None or NaN.  Values of 0, Inf or -Inf raise
HeaderDataError</p>
</div></blockquote>
<p><strong>inter</strong> : None or float, optional</p>
<blockquote class="last">
<div><p>Intercept. If None, implies <cite>inter</cite> of NaN. If <cite>slope</cite> is None or
NaN then <cite>inter</cite> should be None or NaN.  Values of Inf or -Inf raise
HeaderDataError</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.set_xyzt_units">
<code class="descname">set_xyzt_units</code><span class="sig-paren">(</span><em>xyz=None</em>, <em>t=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.set_xyzt_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.single_magic">
<code class="descname">single_magic</code><em class="property"> = 'n+1'</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.single_magic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.single_vox_offset">
<code class="descname">single_vox_offset</code><em class="property"> = 352</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.single_vox_offset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Header.template_dtype">
<code class="descname">template_dtype</code><em class="property"> = dtype([('sizeof_hdr', '&lt;i4'), ('data_type', 'S10'), ('db_name', 'S18'), ('extents', '&lt;i4'), ('session_error', '&lt;i2'), ('regular', 'S1'), ('dim_info', 'u1'), ('dim', '&lt;i2', (8,)), ('intent_p1', '&lt;f4'), ('intent_p2', '&lt;f4'), ('intent_p3', '&lt;f4'), ('intent_code', '&lt;i2'), ('datatype', '&lt;i2'), ('bitpix', '&lt;i2'), ('slice_start', '&lt;i2'), ('pixdim', '&lt;f4', (8,)), ('vox_offset', '&lt;f4'), ('scl_slope', '&lt;f4'), ('scl_inter', '&lt;f4'), ('slice_end', '&lt;i2'), ('slice_code', 'u1'), ('xyzt_units', 'u1'), ('cal_max', '&lt;f4'), ('cal_min', '&lt;f4'), ('slice_duration', '&lt;f4'), ('toffset', '&lt;f4'), ('glmax', '&lt;i4'), ('glmin', '&lt;i4'), ('descrip', 'S80'), ('aux_file', 'S24'), ('qform_code', '&lt;i2'), ('sform_code', '&lt;i2'), ('quatern_b', '&lt;f4'), ('quatern_c', '&lt;f4'), ('quatern_d', '&lt;f4'), ('qoffset_x', '&lt;f4'), ('qoffset_y', '&lt;f4'), ('qoffset_z', '&lt;f4'), ('srow_x', '&lt;f4', (4,)), ('srow_y', '&lt;f4', (4,)), ('srow_z', '&lt;f4', (4,)), ('intent_name', 'S16'), ('magic', 'S4')])</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.template_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Header.write_to">
<code class="descname">write_to</code><span class="sig-paren">(</span><em>fileobj</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Header.write_to" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1image">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1Image" title="nibabel.nifti1.Nifti1Image"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Image</span></code></a><a class="headerlink" href="#nifti1image" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1Image">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1Image</code><span class="sig-paren">(</span><em>dataobj</em>, <em>affine</em>, <em>header=None</em>, <em>extra=None</em>, <em>file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nibabel.nifti1.Nifti1Pair" title="nibabel.nifti1.Nifti1Pair"><code class="xref py py-class docutils literal"><span class="pre">nibabel.nifti1.Nifti1Pair</span></code></a></p>
<p>Class for single file NIfTI1 format image</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1Image.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>dataobj</em>, <em>affine</em>, <em>header=None</em>, <em>extra=None</em>, <em>file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Image.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Image.files_types">
<code class="descname">files_types</code><em class="property"> = (('image', '.nii'),)</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Image.files_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Image.header_class">
<code class="descname">header_class</code><a class="headerlink" href="#nibabel.nifti1.Nifti1Image.header_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Header</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Image.update_header">
<code class="descname">update_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Image.update_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Harmonize header with image data and affine</p>
</dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Image.valid_exts">
<code class="descname">valid_exts</code><em class="property"> = ('.nii',)</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Image.valid_exts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1pair">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair" title="nibabel.nifti1.Nifti1Pair"><code class="xref py py-class docutils literal"><span class="pre">Nifti1Pair</span></code></a><a class="headerlink" href="#nifti1pair" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1Pair">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1Pair</code><span class="sig-paren">(</span><em>dataobj</em>, <em>affine</em>, <em>header=None</em>, <em>extra=None</em>, <em>file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nibabel.analyze.html#nibabel.analyze.AnalyzeImage" title="nibabel.analyze.AnalyzeImage"><code class="xref py py-class docutils literal"><span class="pre">nibabel.analyze.AnalyzeImage</span></code></a></p>
<p>Class for NIfTI1 format image, header pair</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>dataobj</em>, <em>affine</em>, <em>header=None</em>, <em>extra=None</em>, <em>file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.get_qform">
<code class="descname">get_qform</code><span class="sig-paren">(</span><em>coded=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.get_qform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 4x4 affine matrix from qform parameters in header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coded</strong> : bool, optional</p>
<blockquote>
<div><p>If True, return {affine or None}, and qform code.  If False, just
return affine.  {affine or None} means, return None if qform code
== 0, and affine otherwise.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or (4,4) ndarray</p>
<blockquote>
<div><p>If <cite>coded</cite> is False, always return affine reconstructed from qform
quaternion.  If <cite>coded</cite> is True, return None if qform code is 0,
else return the affine.</p>
</div></blockquote>
<p><strong>code</strong> : int</p>
<blockquote class="last">
<div><p>Qform code. Only returned if <cite>coded</cite> is True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.set_qform" title="nibabel.nifti1.Nifti1Pair.set_qform"><code class="xref py py-obj docutils literal"><span class="pre">set_qform</span></code></a>, <a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.get_sform" title="nibabel.nifti1.Nifti1Pair.get_sform"><code class="xref py py-obj docutils literal"><span class="pre">get_sform</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.get_sform">
<code class="descname">get_sform</code><span class="sig-paren">(</span><em>coded=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.get_sform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 4x4 affine matrix from sform parameters in header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coded</strong> : bool, optional</p>
<blockquote>
<div><p>If True, return {affine or None}, and sform code.  If False, just
return affine.  {affine or None} means, return None if sform code
== 0, and affine otherwise.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or (4,4) ndarray</p>
<blockquote>
<div><p>If <cite>coded</cite> is False, always return affine from sform fields. If
<cite>coded</cite> is True, return None if sform code is 0, else return the
affine.</p>
</div></blockquote>
<p><strong>code</strong> : int</p>
<blockquote class="last">
<div><p>Sform code. Only returned if <cite>coded</cite> is True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.set_sform" title="nibabel.nifti1.Nifti1Pair.set_sform"><code class="xref py py-obj docutils literal"><span class="pre">set_sform</span></code></a>, <a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.get_qform" title="nibabel.nifti1.Nifti1Pair.get_qform"><code class="xref py py-obj docutils literal"><span class="pre">get_qform</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Pair.header_class">
<code class="descname">header_class</code><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.header_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#nibabel.nifti1.Nifti1PairHeader" title="nibabel.nifti1.Nifti1PairHeader"><code class="xref py py-class docutils literal"><span class="pre">Nifti1PairHeader</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1Pair.rw">
<code class="descname">rw</code><em class="property"> = True</em><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.rw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.set_qform">
<code class="descname">set_qform</code><span class="sig-paren">(</span><em>affine</em>, <em>code=None</em>, <em>strip_shears=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.set_qform" title="Permalink to this definition">¶</a></dt>
<dd><p>Set qform header values from 4x4 affine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or 4x4 array</p>
<blockquote>
<div><p>affine transform to write into sform. If None, only set code.</p>
</div></blockquote>
<p><strong>code</strong> : None, string or integer</p>
<blockquote>
<div><p>String or integer giving meaning of transform in <em>affine</em>.
The default is None.  If code is None, then:</p>
<ul class="simple">
<li>If affine is None, <cite>code</cite>-&gt; 0</li>
<li>If affine not None and existing qform code in header == 0,
<cite>code</cite>-&gt; 2 (aligned)</li>
<li>If affine not None and existing qform code in header != 0,
<cite>code</cite>-&gt; existing qform code in header</li>
</ul>
</div></blockquote>
<p><strong>strip_shears</strong> : bool, optional</p>
<blockquote>
<div><p>Whether to strip shears in <cite>affine</cite>.  If True, shears will be
silently stripped. If False, the presence of shears will raise a
<code class="docutils literal"><span class="pre">HeaderDataError</span></code></p>
</div></blockquote>
<p><strong>update_affine</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Whether to update the image affine from the header best affine
after setting the qform. Must be keyword argument (because of
different position in <cite>set_qform</cite>). Default is True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.get_qform" title="nibabel.nifti1.Nifti1Pair.get_qform"><code class="xref py py-obj docutils literal"><span class="pre">get_qform</span></code></a>, <a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.set_sform" title="nibabel.nifti1.Nifti1Pair.set_sform"><code class="xref py py-obj docutils literal"><span class="pre">set_sform</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Nifti1Pair</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">aff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_qform</span><span class="p">()</span>
<span class="go">array([[ 2.,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  3.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  4.,  0.],</span>
<span class="go">       [ 0.,  0.,  0.,  1.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_qform</span><span class="p">(</span><span class="n">coded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(None, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aff2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">set_qform</span><span class="p">(</span><span class="n">aff2</span><span class="p">,</span> <span class="s1">&#39;talairach&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaff</span><span class="p">,</span> <span class="n">code</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_qform</span><span class="p">(</span><span class="n">coded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">qaff</span> <span class="o">==</span> <span class="n">aff2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.set_sform">
<code class="descname">set_sform</code><span class="sig-paren">(</span><em>affine</em>, <em>code=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.set_sform" title="Permalink to this definition">¶</a></dt>
<dd><p>Set sform transform from 4x4 affine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>affine</strong> : None or 4x4 array</p>
<blockquote>
<div><p>affine transform to write into sform.  If None, only set <cite>code</cite></p>
</div></blockquote>
<p><strong>code</strong> : None, string or integer</p>
<blockquote>
<div><p>String or integer giving meaning of transform in <em>affine</em>.
The default is None.  If code is None, then:</p>
<ul class="simple">
<li>If affine is None, <cite>code</cite>-&gt; 0</li>
<li>If affine not None and existing sform code in header == 0,
<cite>code</cite>-&gt; 2 (aligned)</li>
<li>If affine not None and existing sform code in header != 0,
<cite>code</cite>-&gt; existing sform code in header</li>
</ul>
</div></blockquote>
<p><strong>update_affine</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Whether to update the image affine from the header best affine
after setting the qform.  Must be keyword argument (because of
different position in <cite>set_qform</cite>). Default is True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.get_sform" title="nibabel.nifti1.Nifti1Pair.get_sform"><code class="xref py py-obj docutils literal"><span class="pre">get_sform</span></code></a>, <a class="reference internal" href="#nibabel.nifti1.Nifti1Pair.set_qform" title="nibabel.nifti1.Nifti1Pair.set_qform"><code class="xref py py-obj docutils literal"><span class="pre">set_qform</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Nifti1Pair</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">aff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_sform</span><span class="p">()</span>
<span class="go">array([[ 2.,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  3.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  4.,  0.],</span>
<span class="go">       [ 0.,  0.,  0.,  1.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">saff</span><span class="p">,</span> <span class="n">code</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_sform</span><span class="p">(</span><span class="n">coded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">saff</span>
<span class="go">array([[ 2.,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  3.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  4.,  0.],</span>
<span class="go">       [ 0.,  0.,  0.,  1.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aff2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">set_sform</span><span class="p">(</span><span class="n">aff2</span><span class="p">,</span> <span class="s1">&#39;talairach&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">saff</span><span class="p">,</span> <span class="n">code</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_sform</span><span class="p">(</span><span class="n">coded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">saff</span> <span class="o">==</span> <span class="n">aff2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nibabel.nifti1.Nifti1Pair.update_header">
<code class="descname">update_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1Pair.update_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Harmonize header with image data and affine</p>
<p>See AnalyzeImage.update_header for more examples</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Nifti1Image</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">affine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdr</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">header</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_qform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">hdr</span><span class="o">.</span><span class="n">get_sform</span><span class="p">()</span> <span class="o">==</span> <span class="n">affine</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="nifti1pairheader">
<h2><a class="reference internal" href="#nibabel.nifti1.Nifti1PairHeader" title="nibabel.nifti1.Nifti1PairHeader"><code class="xref py py-class docutils literal"><span class="pre">Nifti1PairHeader</span></code></a><a class="headerlink" href="#nifti1pairheader" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nibabel.nifti1.Nifti1PairHeader">
<em class="property">class </em><code class="descclassname">nibabel.nifti1.</code><code class="descname">Nifti1PairHeader</code><span class="sig-paren">(</span><em>binaryblock=None</em>, <em>endianness=None</em>, <em>check=True</em>, <em>extensions=()</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1PairHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nibabel.nifti1.Nifti1Header" title="nibabel.nifti1.Nifti1Header"><code class="xref py py-class docutils literal"><span class="pre">nibabel.nifti1.Nifti1Header</span></code></a></p>
<p>Class for NIfTI1 pair header</p>
<p>Initialize header from binary data block and extensions</p>
<dl class="method">
<dt id="nibabel.nifti1.Nifti1PairHeader.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>binaryblock=None</em>, <em>endianness=None</em>, <em>check=True</em>, <em>extensions=()</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.Nifti1PairHeader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize header from binary data block and extensions</p>
</dd></dl>

<dl class="attribute">
<dt id="nibabel.nifti1.Nifti1PairHeader.is_single">
<code class="descname">is_single</code><em class="property"> = False</em><a class="headerlink" href="#nibabel.nifti1.Nifti1PairHeader.is_single" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="load">
<h2>load<a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.nifti1.load">
<code class="descclassname">nibabel.nifti1.</code><code class="descname">load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load NIfTI1 single or pair from <cite>filename</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>filename of image to be loaded</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>img</strong> : Nifti1Image or Nifti1Pair</p>
<blockquote>
<div><p>NIfTI1 single or pair image instance</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>ImageFileError</strong></p>
<blockquote>
<div><p>if <cite>filename</cite> doesn&#8217;t look like NIfTI1;</p>
</div></blockquote>
<p><strong>IOError</strong></p>
<blockquote class="last">
<div><p>if <cite>filename</cite> does not exist.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="save">
<h2>save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.nifti1.save">
<code class="descclassname">nibabel.nifti1.</code><code class="descname">save</code><span class="sig-paren">(</span><em>img</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.nifti1.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save NIfTI1 single or pair to <cite>filename</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote class="last">
<div><p>filename to which to save image</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2016, Matthew Brett, Michael Hanke, Eric Larson, Chris Markiewicz &lt;neuroimaging@python.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>